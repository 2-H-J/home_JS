<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
    <style>
        /* 모든 HTML 요소의 기본 여백과 패딩 제거 */
        * {
            margin: 0;
            /* 요소의 외부 여백(간격)을 0으로 초기화 */
            padding: 0;
            /* 요소의 내부 여백(내용과 경계 사이의 간격)을 0으로 초기화 */
            /*
      CSS 초기화: 브라우저 기본 스타일을 제거하여 모든 요소가
      동일한 스타일링 환경에서 시작하도록 합니다.
    */
        }

        /* 컨테이너 스타일: 중앙 정렬, 너비 700px, 내부 여백 40px, 테두리 설정 */
        .container {
            width: 700px;
            /* 고정된 컨테이너 너비를 700px로 설정 */
            margin: 0 auto;
            /* 컨테이너를 부모 요소 기준으로 수평 중앙 정렬 */
            padding: 40px;
            /* 컨테이너 내부 여백을 40px로 설정 */
            border: 1px solid #d1d1d1;
            /* 연한 회색 테두리 추가 */
            /*
      width는 컨테이너의 가로 크기를 제한합니다.
      padding은 내부 요소와 경계 간의 간격을 제공합니다.
      border는 컨테이너를 시각적으로 구분짓는 경계를 추가합니다.
    */
        }

        /* h1 제목 스타일: 중앙 정렬, 상하 여백 추가 */
        h1 {
            text-align: center;
            /* 텍스트를 수평 방향으로 중앙 정렬 */
            margin: 20px 0px;
            /* 위와 아래 여백을 각각 20px로 설정 */
            /*
      text-align은 텍스트의 가로 정렬 방식을 지정합니다.
      margin은 요소 외부의 간격을 조정하여 배치를 최적화합니다.
    */
        }

        /* form 내 ul 요소의 스타일: 기본 불릿 제거 */
        form>ul {
            list-style-type: none;
            /* 리스트 앞에 기본으로 추가되는 불릿 기호 제거 */
            /*
      list-style-type: none은 리스트 항목 앞의 기본 기호를 제거하여
      깔끔한 레이아웃을 유지합니다.
    */
        }

        /* form 내 ul의 li 요소 스타일: 위쪽 여백 추가 */
        form>ul>li {
            margin-top: 10px;
            /* 리스트 항목 위쪽에 10px 간격 추가 */
            /*
      margin-top은 각 리스트 항목 위쪽에 여백을 추가하여 시각적 구분을 제공합니다.
    */
        }

        /* form 내 중첩 ul 스타일: 디스크 불릿 적용, 회색 텍스트 색상 */
        form>ul>ul {
            list-style-type: disc;
            /* 디스크 모양의 불릿 기호를 적용 */
            margin-top: 5px;
            /* 위쪽 여백을 5px로 설정 */
            padding-left: 40px;
            /* 왼쪽에 40px 들여쓰기 추가 */
            color: gray;
            /* 텍스트 색상을 회색으로 설정 */
            /*
      list-style-type: disc는 중첩된 리스트에 원형 불릿을 추가합니다.
      padding-left는 중첩 리스트가 부모 리스트보다 오른쪽으로 들여쓰기 되도록 만듭니다.
    */
        }

        /* label 스타일: 텍스트를 굵게 표시 */
        label {
            font-weight: bold;
            /* 텍스트를 굵게 표시 */
            /*
      label 요소는 폼 입력 필드와 연결된 텍스트를 제공하며,
      font-weight: bold를 통해 강조됩니다.
    */
        }

        /* 하단 테두리를 설정하는 클래스 */
        .border_bottom {
            border-bottom: 2px solid #c4c4c4;
            /* 하단에 두께가 2px인 회색 테두리 추가 */
            /*
      border-bottom은 요소의 하단에만 테두리를 추가하여 시각적 구분을 제공합니다.
    */
        }

        /* input 스타일: 보더 제거, 크기 설정, 큰 텍스트 */
        input {
            border: none;
            /* 기본 테두리를 제거 */
            outline: none;
            /* 포커스 시 나타나는 기본 외곽선을 제거 */
            height: 50px;
            /* 입력 필드 높이를 50px로 설정 */
            width: 80%;
            /* 입력 필드의 가로 너비를 부모 요소의 80%로 설정 */
            font-size: 20px;
            /* 입력 필드 내 텍스트 크기를 20px로 설정 */
            /*
      outline: none은 입력 필드가 포커스될 때 나타나는 기본 외곽선을 제거합니다.
      height와 width는 입력 필드의 크기를 설정하며,
      font-size는 입력 텍스트의 가독성을 높이는 데 사용됩니다.
    */
        }

        /* 보조 텍스트(sub_txt) 스타일 */
        .sub_txt {
            width: 20%;
            /* 보조 텍스트의 가로 너비를 부모 요소의 20%로 설정 */
            font-size: 20px;
            /* 텍스트 크기를 20px로 설정 */
            font-weight: bold;
            /* 텍스트를 굵게 표시 */
            box-sizing: border-box;
            /* padding과 border를 포함하여 크기를 계산 */
            text-align: right;
            /* 텍스트를 오른쪽 정렬 */
            color: gray;
            /* 텍스트 색상을 회색으로 설정 */
            display: inline-block;
            /* 인라인 블록으로 설정하여 크기 조정 가능 */
            /*
      display: inline-block은 요소를 다른 요소와 같은 줄에 배치하면서,
      width와 height를 설정할 수 있도록 합니다.
    */
        }

        /* gcode 입력 필드 스타일 */
        #gcode {
            width: 100px;
            /* 입력 필드의 가로 너비를 100px로 설정 */
            height: 50px;
            /* 입력 필드의 높이를 50px로 설정 */
            box-sizing: border-box;
            /* padding과 border를 포함하여 크기를 계산 */
            border: none;
            /* 기본 테두리를 제거 */
            font-size: 20px;
            /* 텍스트 크기를 20px로 설정 */
            outline: none;
            /* 포커스 시 나타나는 기본 외곽선을 제거 */
            border-right: 1px solid #c4c4c4;
            /* 오른쪽에 회색 테두리 추가 */
        }

        /* 인증번호 전송 버튼 스타일 */
        .btn_send_no {
            width: 250px;
            /* 버튼의 가로 너비를 250px로 설정 */
            height: 50px;
            /* 버튼의 높이를 50px로 설정 */
            background-color: white;
            /* 버튼의 배경색을 흰색으로 설정 */
            border: 1px solid #c4c4c4;
            /* 연한 회색 테두리 추가 */
            border-radius: 25px;
            /* 버튼 모서리를 둥글게 설정 (반지름 25px) */
        }

        /* 인증번호 전송 버튼 호버 시 스타일 */
        .btn_send_no:hover {
            background-color: #d4d4d4;
            /* 버튼의 배경색을 연한 회색으로 변경 */
        }

        /* 인증번호 전송 버튼 클릭(active) 시 스타일 */
        .btn_send_no:active {
            background-color: white;
            /* 클릭 상태에서 버튼 배경색을 흰색으로 설정 */
        }

        /* 다음 버튼 스타일 */
        .btn_next {
            width: 100%;
            /* 버튼의 가로 너비를 부모 요소의 100%로 설정 */
            height: 50px;
            /* 버튼의 높이를 50px로 설정 */
            background-color: #d4d4d4;
            /* 버튼의 기본 배경색을 연한 회색으로 설정 */
            border-radius: 10px;
            /* 버튼 모서리를 둥글게 설정 (반지름 10px) */
            border: none;
            /* 기본 테두리를 제거 */
        }

        /* 다음 버튼 호버 시 스타일 */
        .btn_next:hover {
            background-color: #ffe606;
            /* 버튼의 배경색을 밝은 노란색으로 변경 */
        }

        /* 유효성 검사 통과 시 스타일 */
        .true {
            color: blue;
            /* 텍스트 색상을 파란색으로 설정 */
            font-weight: bold;
            /* 텍스트를 굵게 표시 */
        }

        /* 유효성 검사 실패 시 스타일 */
        .false {
            color: red;
            /* 텍스트 색상을 빨간색으로 설정 */
            font-weight: bold;
            /* 텍스트를 굵게 표시 */
        }
    </style>

    <script>
        // ID----------------------------------------------------------------------------------------------------------
        // 아이디 값이 정상인지 체크하는 함수
        // 1. 글자수 8 ~ 20글자 사이
        // 2. 숫자와 알파벳 혼합(숫자+알파벳이 반드시 한개씩은 들어가야 됨)
        // 3. 규칙에 만족하면 true 리턴, 만족하지 못하면 false 리턴
        function checkId() {
            let id = document.querySelector('#id'); // ID 입력 필드 선택

            /*
                -정규표현식 설명-
                ^: 문자열 시작
                (?=.*[A-Za-z]): 적어도 하나의 알파벳 포함
                (?=.*\d): 적어도 하나의 숫자 포함
                [A-Za-z\d]{8,20}: 알파벳과 숫자로만 구성된 8~20자 길이 문자열
                $: 문자열 끝
            */
            let reg = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,20}$/;

            if (reg.test(id.value)) { // 정규표현식 조건을 만족하면
                document.querySelector('.id_result').innerHTML = '사용이 가능한 아이디 입니다.';
                // 성공 메시지를 표시하고 CSS 클래스에 'true' 스타일을 적용
                document.querySelector('.id_result').classList.add('true');
                document.querySelector('.id_result').classList.remove('false');
                return true; // 유효한 아이디이므로 true 반환
            } else { // 조건을 만족하지 못하면
                document.querySelector('.id_result').innerHTML =
                    '아이디는 8자 이상 20자 이하로 알파벳 숫자 조합으로 입력하세요.';
                // 오류 메시지를 표시하고 CSS 클래스에 'false' 스타일을 적용
                document.querySelector('.id_result').classList.add('false');
                document.querySelector('.id_result').classList.remove('true');
                return false; // 유효하지 않은 아이디이므로 false 반환
            }
        }

        // PASSWORD--------------------------------------------------------------------------------------------------
        // 1. 두 번 입력한 암호가 서로 일치하는지 확인
        // 2. 암호는 8글자 이상 32글자 이하만 허용
        // 3. 특수문자, 대문자, 소문자, 숫자가 각각 1글자씩 반드시 포함
        // 4. 암호가 일치하는지, 올바른 형태인지 결과를 체크해서 하단에 메시지를 띄움
        function checkPassword() {
            let pass = document.querySelector('#pass'); // 비밀번호 입력 필드 선택
            let pass_chk = document.querySelector('#pass_chk'); // 비밀번호 확인 필드 선택

            /*
                -정규표현식 설명-
                ^: 문자열 시작
                (?=.*[A-Z]): 적어도 하나의 대문자 포함
                (?=.*[a-z]): 적어도 하나의 소문자 포함
                (?=.*\d): 적어도 하나의 숫자 포함
                (?=.*[~!@#$%^&*]): 적어도 하나의 특수문자 포함
                [A-Za-z\d~!@#$%^&*]{8,32}: 지정된 문자로 구성된 8~32자 길이 문자열
                $: 문자열 끝
            */
            let reg = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[~!@#$%^&*])[A-Za-z\d~!@#$%^&*]{8,32}$/;

            if (!reg.test(pass.value)) { // 비밀번호 형식이 정규표현식을 만족하지 못할 경우
                document.querySelector('.pass_result').innerHTML =
                    '암호는 대소문자, 숫자, 특수문자를 1글자씩 포함해야 합니다, 8 ~ 32글자 사이로 입력하세요.';
                // 실패 시 CSS 클래스 'false'를 추가하고 'true'를 제거
                document.querySelector('.pass_result').classList.add('false');
                document.querySelector('.pass_result').classList.remove('true');
                return false; // 유효하지 않은 비밀번호로 판단
            }
            if (pass.value != pass_chk.value) { // 비밀번호와 확인용 비밀번호가 일치하지 않을 경우
                document.querySelector('.pass_result').innerHTML =
                    '입력하신 암호가 일치(동일)하지 않습니다.';
                // 실패 시 CSS 클래스 'false'를 추가하고 'true'를 제거
                document.querySelector('.pass_result').classList.add('false');
                document.querySelector('.pass_result').classList.remove('true');
                return false; // 비밀번호가 일치하지 않음
            }

            // 비밀번호가 형식에 맞고, 확인용 비밀번호와 일치할 경우
            document.querySelector('.pass_result').innerHTML = '암호가 일치 합니다.';
            // 성공 시 CSS 클래스 'true'를 추가하고 'false'를 제거
            document.querySelector('.pass_result').classList.add('true');
            document.querySelector('.pass_result').classList.remove('false');
            return true; // 유효한 비밀번호로 판단
        }

        // NICKNAME-----------------------------------------------------------------------------------------------
        // 닉네임 입력값 검증
        // 1. 닉네임은 20글자까지만 입력이 가능하게 처리
        // 2. 입력한 글자 개수를 실시간으로 sub_txt에 표시 (형식: 0/20)
        // 3. 최소한 한 글자는 입력해야 함
        // 4. 특수문자는 허용하지 않음
        function checkNick() {
            let nick = document.querySelector('#nick'); // 닉네임 입력 필드 선택

            /*
                -정규표현식 설명-
                ^: 문자열 시작
                [A-Za-z가-힣\d]: 한글, 영문, 숫자만 허용
                {1,20}: 최소 1자에서 최대 20자
                $: 문자열 끝
            */
            let reg = /^[A-Za-z가-힣\d]{1,20}$/;

            // 최대 20글자까지만 입력 가능하도록 설정
            nick.value = nick.value.substr(0, 20);
            // 입력한 글자 수를 실시간으로 표시
            nick.nextElementSibling.innerHTML = `${nick.value.length}/20`;

            if (!reg.test(nick.value)) { // 닉네임이 정규표현식 조건을 만족하지 않을 경우
                nick.classList.add('false');
                nick.classList.remove('true');
                return false; // 유효하지 않은 닉네임으로 판단
            }

            // 닉네임이 정규표현식 조건을 만족할 경우
            nick.classList.add('true');
            nick.classList.remove('false');
            return true; // 유효한 닉네임으로 판단
        }

        // TEL-------------------------------------------------------------------------------------------------
        // 전화번호 유효성 검사
        // 전화번호 형식: '01x-xxxx-xxxx' 또는 '01x-xxx-xxxx'
        function checkTel() {
            let tel = document.querySelector('#tel'); // 전화번호 입력 필드 선택

            /*
                -정규표현식 설명-
                ^: 문자열 시작
                01: 전화번호는 '01'로 시작
                ([0|1|6|7|8|9]): 두 번째 자리는 0, 1, 6, 7, 8, 9 중 하나
                \d{3,4}: 3자리 또는 4자리 숫자
                \d{4}: 마지막에 4자리 숫자
                $: 문자열 끝
            */
            let reg = /^01([0|1|6|7|8|9])\d{3,4}\d{4}$/;

            if (reg.test(tel.value)) { // 조건에 맞는 전화번호일 경우
                tel.classList.add('true');
                tel.classList.remove('false');
                return true; // 유효한 전화번호
            }

            // 조건에 맞지 않는 전화번호일 경우
            tel.classList.add('false');
            tel.classList.remove('true');
            return false; // 유효하지 않은 전화번호
        }

        // ----------------------------------------------------------------------------------------------------
        window.onload = () => {
            // 각각의 입력 필드에 실시간 유효성 검사를 연결
            document.querySelector('#id').onkeyup = checkId; // ID 입력 시 실시간 검사
            document.querySelector('#pass').onkeyup = checkPassword; // 비밀번호 입력 시 실시간 검사
            document.querySelector('#pass_chk').onkeyup = checkPassword; // 확인용 비밀번호 입력 시 검사
            document.querySelector('#nick').onkeyup = checkNick; // 닉네임 입력 시 실시간 검사
            document.querySelector('#tel').onkeyup = checkTel; // 전화번호 입력 시 실시간 검사

            // 폼 제출 시 유효성 검사
            document.querySelector('#frm').onsubmit = (e) => {
                // ID, 비밀번호, 닉네임, 전화번호 중 하나라도 유효하지 않으면 폼 제출 중단
                if (!(checkId() && checkPassword() && checkNick() && checkTel())) {
                    e.preventDefault(); // 폼 제출 중단
                    alert('잘못된 데이터가 있습니다.\n다시한번 입력하신 데이터를 확인해 보세요');
                }
            };
        };

    </script>
</head>

<body>
    <h1>kakao</h1>
    <div class="container">
        <h2>카카오 계정 정보를 입력해 주세요.</h2>
        <form action="" id="frm">
            <ul>
                <li><label for="id">카카오계정 이메일</label></li>
                <li class="border_bottom">
                    <input type="text" id="id" placeholder="아이디를 입력하세요"><span class="sub_txt">@kakao.com</span>
                </li>
                <li class="id_result"></li>
                <ul>
                    <li>입력한 카카오메일로 카카오 계정에 로그인 할 수 있습니다.</li>
                    <li>한번 만든 카카오 메일은 변경할 수 없으니, 오타가 없도록 신중히 확인해 주세요.</li>
                    <li>생성한 카카오메일로 카카오계정과 관련한 알림을 받아볼 수 있습니다.</li>
                </ul>
                <li><label for="pass">비밀번호</label></li>
                <li class="border_bottom">
                    <input type="password" id="pass" placeholder="비밀번호(8~32자리)">
                </li>
                <li class="border_bottom">
                    <input type="password" id="pass_chk" placeholder="비밀번호 재입력">
                </li>
                <li class="pass_result"></li>
                <li><label for="nick">닉네임</label></li>
                <li class="border_bottom">
                    <input type="text" id="nick" placeholder="닉네임(한글,영문,숫자)을 작성하세요"><span class="sub_txt">0/20</span>
                </li>
                <li><label for="tel">전화번호</label></li>
                <li class="border_bottom">
                    <select id="gcode">
                        <option value="82">+82</option>
                        <option value="1">+1</option>
                        <option value="84">+84</option>
                        <option value="55">+55</option>
                    </select><input type="text" id="tel" placeholder="전화번호 입력하세요 -는 빼고">
                </li>
                <li><button type="button" class="btn_send_no">인증번호 전송</button></li>
                <li><button class="btn_next">다음</button></li>
            </ul>

        </form>
    </div>
</body>

</html>